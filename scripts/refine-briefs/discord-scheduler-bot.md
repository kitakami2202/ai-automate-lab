# リファインメントブリーフ: discord-scheduler-bot

## 基本情報
- 対象ファイル: src/content/articles/discord-bot/discord-scheduler-bot.md
- 監査日: 2026-02-12
- 総合スコア: 72/100
- 判定: **REFINE**（60-84点帯）

## keyword-map.csvメタ情報
- slug: discord-scheduler-bot
- primary_kw: Discord 定時通知 Bot
- secondary_kw: Discord Webhook GAS, Discord 自動通知
- layer: execution / articleType: howto
- cluster: discord-bot / priority: A

## スコアサマリ

| カテゴリ | スコア | 主な減点理由 |
|---------|--------|-------------|
| コンテンツ品質 | 14/20 | 本文量が少ない（howto目標3,000-5,000文字に未達）、「まとめ」セクション欠如、ステップ1のコード解説なし、「この記事でわかること」リスト欠如 |
| SEO/AEO品質 | 16/20 | secondary_kw「Discord 自動通知」が本文中で明示使用されていない、descriptionが155文字でやや冗長 |
| 内部リンク・導線 | 14/20 | relatedArticlesがパス形式（"discord-bot/discord-bot-overview"）で他記事と不統一、「まとめ」セクションの次ステップCTAなし、gas-spreadsheet-automationへの本文内リンクなし |
| 可読性・文体 | 16/20 | 敬体統一は良好、「トリガー」「Embed形式」「スクリプトプロパティ」の初出時定義なし |
| 鮮度・正確性 | 12/20 | 費用「0円」の時点表記なし、GAS/Discord公式ドキュメントへの外部リンクなし、`var`使用（`const`/`let`推奨） |

## 詳細採点

### コンテンツ品質（14/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| 結論ファースト | 4 | 3 | 冒頭2行で要約あり。ただし「定時通知Botとは」の定義文が冒頭ではなくH2-1冒頭にある。冒頭3行の結論が「手順を解説します」で弱い |
| 定義文 | 4 | 3 | H2-1「Discord定時通知Botとは〜」、H2-2「準備とは〜」は良好。H2-3「実装手順」、H2-4「動作確認」、H2-5「応用」に定義文なし |
| 表の活用 | 4 | 4 | 4つの表（前提、通知パターン、トリガー設定、トラブルシューティング）を効果的に活用 |
| コード実行可能性 | 4 | 4 | 2つのコードブロックが省略なしで完全掲載。コピペで動作可能 |
| 情報の具体性・分量 | 4 | 0 | 本文の散文量が約1,500-1,800文字でhowto記事の目標（3,000-5,000文字）に大幅未達。ステップ1のコード解説（「このコードのポイント」）が欠如。「まとめ」セクションがない。「この記事でわかること」リストがない |

### SEO/AEO品質（16/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| title適切性 | 4 | 4 | 「Discord定時通知Botの作り方｜GAS×Webhook連携」27文字。primary_kw「Discord 定時通知 Bot」を完全含有 |
| description質 | 4 | 3 | 155文字（120-160範囲内だがやや冗長）。KW含有。「コピペで動くコード付き」の訴求は良い。ただし情報を詰め込みすぎて読みにくい |
| schema.type適切性 | 4 | 4 | 「HowTo」でhowto記事に完全合致。estimatedCost・totalTimeも設定済み |
| FAQ質 | 4 | 4 | 4個。実用的な質問（時刻設定、土日除外、複数チャンネル、スプレッドシート連携）で検索意図に合致 |
| 副KW自然な配置 | 4 | 1 | 「Discord Webhook GAS」はtitle・本文で自然に含有。**「Discord 自動通知」が本文中に明示的に登場しない**。tags内に「定時通知」はあるが「自動通知」がない |

### 内部リンク・導線（14/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| Layer遷移導線 | 5 | 4 | 冒頭にpillar記事（discord-bot-overview）への導線あり。末尾にも同記事へのリンクあり。ただし「まとめ」セクション内のCTA形式ではなく、1行テキストで弱い |
| 内部リンク数 | 5 | 4 | 本文中に4本の内部リンク（discord-bot-overview x2、discord-bot-gas x1、gas-slack-notification x1）。3本以上の基準は満たすが、relatedArticlesのgas-spreadsheet-automationへの本文内リンクがない |
| relatedArticles関連性 | 5 | 3 | 同カテゴリ2本 + 別カテゴリ1本で構成は適切。**ただし値が「discord-bot/discord-bot-overview」等のパス形式になっている**。keyword-map.csvのslugは「discord-bot-overview」で、他の公開済み記事のrelatedArticlesと形式が不統一の可能性あり |
| リンクテキストの自然さ | 5 | 3 | discord-bot-overviewとdiscord-bot-gasへのリンクは自然。gas-slack-notificationのリンクテキスト「GAS × Slack通知」は記事タイトルと一致するか不明。末尾の「Discord Bot業務活用ガイドをご覧ください」は問題なし |

### 可読性・文体（16/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| 敬体統一 | 5 | 5 | 全文「です・ます調」で完全統一 |
| 一文の長さ | 5 | 5 | 全文が80文字以内に収まっている |
| 段落構造 | 5 | 4 | 短い段落で区切られ見出し構造も良好。ただし「### この記事の前提」がH2の前にあるH3で構造的に不適切（孤立したH3） |
| 専門用語の説明 | 5 | 2 | **Webhook**が初出時（L33）に定義なし。**トリガー**が初出時に定義なし。**Embed形式**がコード内で使用されるが本文で説明なし。**スクリプトプロパティ**が手順内で出現するが概念の説明なし。「GAS」は前提記事（discord-bot-gas）で既知の想定だが、本記事単独で読む読者への配慮が不足 |

### 鮮度・正確性（12/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| API/ツールバージョン最新性 | 5 | 4 | Discord Webhook APIは安定しており大きな変更なし。ただしGASランタイム（V8）への言及なし |
| 料金情報の時点明記 | 5 | 1 | L46「0円（GAS・Discord無料枠内）」に**時点表記なし**。CLAUDE.md「料金情報は公式URLを必ずリンクし『2026年2月時点』等の時点を明記」に違反 |
| コードの動作保証 | 5 | 3 | コードは動作するが、全て`var`宣言を使用（GAS V8ランタイムでは`const`/`let`が推奨）。`toLocaleString()`のGAS環境での動作に注意が必要（ロケール依存）|
| CLAUDE.md準拠 | 5 | 4 | 料金時点表記なし（-1）。他の構造ルール（H2数、FAQ数、relatedArticles数、コードにAPIキーなし）は準拠 |

## セクション別判定

| セクション | 判定 | 理由 |
|-----------|------|------|
| frontmatter | **IMPROVE** | FAQ4個・tags5個は良好。relatedArticlesのパス形式を他記事と統一確認が必要。descriptionがやや冗長 |
| 導入部（冒頭〜前提表） | **IMPROVE** | Layer2→Layer1導線あり。結論ファーストだが「とは」定義が導入に含まれていない。「この記事でわかること」リストが欠如 |
| H2-1: この記事で作るもの | **KEEP** | 定義文あり。通知パターン表が3種類で網羅的。明確でコンパクト |
| H2-2: 準備・Webhook URLの取得 | **IMPROVE** | 手順は明確だが、Webhookの定義が初出時にない。「スクリプトプロパティ」の概念説明がない |
| H2-3: 実装手順 | **IMPROVE** | コード2本は完全掲載で良好。**ステップ1にコード解説（「このコードのポイント」）がない**（ステップ2にはある）。ステップ3のトリガー設定手順が表のみで本文解説が薄い |
| H2-4: 動作確認 | **IMPROVE** | トラブルシューティング表は実用的。ただし「動作確認の手順」が本文に含まれていない（手動実行の方法、ログの確認方法等） |
| H2-5: 応用・カスタマイズ例 | **IMPROVE** | 3つの応用例は良い。ただし各例が1行で薄い。タスク期限アラートのコード例またはコードの方向性を示すと有用。末尾のpillar記事リンクが「まとめ」セクション内ではなく唐突 |
| FAQ | **KEEP** | 4個で実用的。回答が具体的で、記事本文の内容と整合している |
| まとめセクション | **REWRITE** | **存在しない**。howtoテンプレートでは必須ではないが、CLAUDE.mdとseo-aeo.mdの記事本文テンプレートでは「まとめ」「次のステップ」が標準。読者の次アクション導線が弱い |

## リファイン指示

### 優先度: 高（スコアへの影響大）

#### 1. 「まとめ」セクションの追加
- 現状: まとめセクションが存在しない
- 方向性: H2「まとめ」を追加。3行以内で記事の要点をまとめ、次のステップとしてdiscord-slash-commands（スラッシュコマンド）やdiscord-spreadsheet-db（スプレッドシートDB）へのCTAを設置
- 期待効果: コンテンツ品質+2、内部リンク+2

#### 2. 本文量の増強（目標: 3,000文字以上）
- 現状: 散文量が約1,500-1,800文字でhowto目標の3,000-5,000文字に大幅未達
- 方向性:
  - 導入部に「この記事でわかること」箇条書きリストを追加
  - ステップ1のコードに「このコードのポイント」解説を追加（土日スキップの仕組み、Embed形式のfields構造、color値の意味）
  - ステップ3のトリガー設定に手順の本文解説を追加（GASエディタでの操作手順を文章で補足）
  - H2-4に動作確認の手順を追加（手動実行方法、実行ログの確認方法）
  - H2-5の各応用例を2-3行に拡充
- 期待効果: コンテンツ品質+4

#### 3. 料金情報の時点表記と公式URLリンク追加
- 現状: 「0円（GAS・Discord無料枠内）」に時点表記なし、公式URLなし
- 方向性: 前提表の費用欄を「0円（GAS・Discord無料枠内、2026年2月時点）」に修正。GAS公式の制限事項ページとDiscord Webhook公式ドキュメントへの外部リンクを追加
- 期待効果: 鮮度・正確性+3

### 優先度: 中（品質向上に寄与）

#### 4. 専門用語の初出時定義追加
- 対象用語と追加場所:
  - **Webhook**: H2-2冒頭の定義文内「Webhook（外部サービスにHTTPリクエストで通知を送る仕組み）」
  - **トリガー**: ステップ3冒頭「トリガー（指定した時間や条件でスクリプトを自動実行するGASの機能）」
  - **Embed形式**: ステップ1のコード解説内「Embed形式（タイトル・色・フィールドなどを持つリッチなメッセージ表示形式）」
  - **スクリプトプロパティ**: H2-2の手順4「スクリプトプロパティ（GASプロジェクト内に安全に値を保存する仕組み）」
- 期待効果: 可読性+2

#### 5. secondary_kw「Discord 自動通知」の自然な配置
- 現状: 「自動通知」が本文中に明示的に登場しない
- 方向性: 導入部または「この記事で作るもの」セクション内に「Discord自動通知」を自然に含める（例: 「Discordへの自動通知を実現する定時通知Botを構築します」）
- 期待効果: SEO/AEO+2

#### 6. 導入部のH3構造修正
- 現状: 「### この記事の前提」がH2の前にあり、孤立したH3になっている
- 方向性: 「## この記事の前提」としてH2に昇格するか、導入部の段落内にインラインで表を配置
- 注意: H2を昇格すると合計6つになりCLAUDE.mdの「H2は5つ以内」に抵触するため、インライン配置またはH2-1「この記事で作るもの」の下に前提表を移動する方が望ましい

### 優先度: 低（余力があれば対応）

#### 7. コードの`var`を`const`/`let`に置換
- 現状: 全コードが`var`宣言
- 方向性: 再代入のない変数は`const`、再代入のある変数は`let`に変更（GAS V8ランタイム対応）
- 期待効果: 鮮度・正確性+1

#### 8. relatedArticlesのパス形式確認
- 現状: `"discord-bot/discord-bot-overview"` のようにカテゴリ/slug形式
- 方向性: 他の公開済み記事のrelatedArticlesと形式を統一（slug単体 or カテゴリ/slug）。config.tsのスキーマはz.array(z.string())で形式制約なしだが、サイト全体の一貫性を確認
- 期待効果: 内部リンク+1

#### 9. gas-spreadsheet-automationへの本文内リンク追加
- 現状: relatedArticlesに含まれるがbody内にリンクなし
- 方向性: ステップ2のスプレッドシート連動セクションまたは応用例内に「スプレッドシート操作の詳細は[GAS×スプレッドシート自動化の完全ガイド](/articles/gas/gas-spreadsheet-automation)をご覧ください」等を追加
- 期待効果: 内部リンク+1

## 保持すべき良い点
- コード2本が省略なしで完全掲載、コピペで動作可能
- 前提表がhowtoテンプレートに準拠しており、読者が自分に合うか即座に判断できる
- 土日除外ロジックが全コードに含まれており実務的
- トラブルシューティング表が4パターンで実用的
- Webhook URLのハードコード禁止を明示（セキュリティ配慮）
- Layer2→Layer1への冒頭導線が適切
- FAQ4個の質問が具体的で実用的（特にFAQ2の土日除外はコードとの連動が良い）

## リファイン後の目標スコア
- コンテンツ品質: 14→20（+6）
- SEO/AEO品質: 16→19（+3）
- 内部リンク・導線: 14→18（+4）
- 可読性・文体: 16→18（+2）
- 鮮度・正確性: 12→17（+5）
- **目標総合スコア: 92/100**
