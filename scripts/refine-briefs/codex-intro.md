# リファインメントブリーフ: codex-intro

## 基本情報
- 対象ファイル: src/content/articles/ai-api/codex-intro.md
- 監査日: 2026-02-12
- 総合スコア: 68/100
- 判定: **REFINE**

## スコアサマリ

| カテゴリ | スコア | 主な減点理由 |
|---------|--------|-------------|
| コンテンツ品質 | 13/20 | H2-4〜H2-6に定義文なし、コードブロックがプロンプト例+API呼び出し1本のみで生成結果コードなし、活用パターン表が抽象的 |
| SEO/AEO品質 | 14/20 | descriptionが約108文字で120文字下限未達、H2が6個でCLAUDE.md上限5違反 |
| 内部リンク・導線 | 15/20 | Layer遷移先がai-api-overviewだがコーディングツール系pillarはai-coding-overviewが適切、ai-coding-overviewへの本文リンクなし |
| 可読性・文体 | 16/20 | 敬体は概ね統一。「サンドボックス」「CLI」等の専門用語が初出時に未定義 |
| 鮮度・正確性 | 10/20 | 冒頭H3が孤立でCLAUDE.md違反、H2が6個でルール超過、ChatGPTからのCodex利用手順が曖昧（Codex選択UIの説明不足）、生成コードの完成例なし |

## 詳細採点

### コンテンツ品質（13/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| 結論ファースト | 4 | 4 | L34-35で「OpenAI Codexを使って業務自動化スクリプトを生成・実行する方法を解説」「Codexの特徴と料金を整理し〜実際にコードを生成する手順を紹介」と2行で要約 |
| 定義文 | 4 | 2 | H2-1「OpenAI Codexとは」(L49)に定義文あり。H2-2「Claude Codeとの比較」(L69)に導入文あり。**H2-4「業務自動化での活用パターン」、H2-5「動作確認・トラブルシューティング」、H2-6「応用・カスタマイズ例」に定義文なし** |
| 表の活用 | 4 | 4 | 7つの表（前提、Codex特徴、料金プラン、比較、活用パターン、トラブルシューティング）を効果的に使用 |
| コード実行可能性 | 4 | 2 | Pythonコード（L111-123）は`client.responses.create`でAPI呼び出しを示すが、**pip installや環境変数の設定手順がない**。textブロック（L91-104）はプロンプト例で実行コードではない。**Codexが生成する完成GASコードの掲載がない**。howto記事として「完成物」が示されていない |
| 情報の具体性 | 4 | 1 | 活用パターン表（L127-132）の「指示例」が1行で詳細不足。ChatGPTからの利用手順（L88）で「Codexを選択します」とあるが**UIの位置やアクセス方法が曖昧**。Codexのサンドボックス環境の具体的な制約（実行時間、対応言語等）が未記載 |

### SEO/AEO品質（14/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| title適切性 | 4 | 4 | 「OpenAI Codex入門｜クラウドでコード生成・実行」約24文字。primary_kw「OpenAI Codex 入門」を含み具体的 |
| description質 | 4 | 2 | **約108文字で120-160文字の下限に未達**。内容は的確だが文字数不足。config.tsのmax(160)は満たすがCLAUDE.mdの「120-160文字」ルール下限を下回る |
| schema.type適切性 | 4 | 4 | 「HowTo」がarticleType「howto」と合致。estimatedCost・totalTimeも設定済み |
| FAQ質 | 4 | 4 | 3個。「CodexとChatGPTの違い」「料金」「Claude Codeとの比較」は検索意図に合致。料金回答に「2026年2月時点」表記あり |
| 副KW自然な配置 | 4 | 0 | secondary_kw「Codex 使い方」→H2「Codexの使い方」で配置あり。**「クラウド コード生成」→titleに「クラウドでコード生成」があるが本文中に「クラウド コード生成」「クラウドでのコード生成」等のフレーズが明示的に出現しない**。L49は「クラウドのサンドボックス環境で自動実行」でありコード生成と結合されていない |

### 内部リンク・導線（15/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| Layer遷移導線 | 5 | 3 | execution→entry: L31でai-api-overview（pillar/entry）へのリンクが冒頭にあり。ただし**codex-introはコーディングツール記事であり、より適切なpillarはai-coding-overview**。ai-coding-overviewのrelatedArticlesにcodex-introが含まれておりクラスター的に直属。ai-coding-overviewへの本文リンクが一切ない |
| 内部リンク数 | 5 | 5 | 本文中に7本の内部リンク: ai-api-overview(2回)、ai-coding-tools-comparison(2回)、ai-coding-prompt-patterns、claude-code-automation、ai-coding-cost-reduction。十分な密度 |
| relatedArticles関連性 | 5 | 4 | 同カテゴリ2本（ai-api-overview、claude-code-automation）+ 別カテゴリ1本（reviews/ai-coding-tools-comparison）でルール準拠。ただし**ai-coding-overviewの方がai-api-overviewよりcodex-introとの関連性が高い**。ai-coding-overviewがcodex-introをrelatedArticlesに含んでいるため相互リンクが望ましい |
| リンクテキストの自然さ | 5 | 3 | 多くのリンクは自然。ただし**L149「AI APIの全体像は...、AIコーディングのコスト比較は...をご覧ください。」と1文に2つのリンクを詰め込み**、やや詰め込み感がある。L31-32の引用ブロック内2本も簡潔だが本文との一体感に欠ける |

### 可読性・文体（16/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| 敬体統一 | 5 | 5 | 本文は全体的に「です・ます調」で統一。L80の「Codexが適しています」L82の「ご覧ください」等一貫している |
| 一文の長さ | 5 | 5 | 本文中の全文が概ね80文字以内に収まっている |
| 段落構造 | 5 | 4 | 短い段落・表・リスト・見出しの使い分けが適切。**ただしH2-4「業務自動化での活用パターン」が表のみで導入文も解説もなく唐突** |
| 専門用語の説明 | 5 | 2 | **「サンドボックス」（L49で初出、説明なし）、「CLI」（L5 tagsで登場、本文中にも説明なし）、「GAS」（L93で初出、Google Apps Scriptの正式名称未補足）、「API」（L109見出しで初出概念、本文中の定義なし）、「codex-mini」（L65表内、モデルの説明なし）**が初出時に未定義 |

### 鮮度・正確性（10/20）

| 項目 | 配点 | スコア | 根拠 |
|------|------|--------|------|
| API/ツールバージョン最新性 | 5 | 3 | `codex-mini-latest`モデル名は妥当。ただし**Codex UIの利用方法（L88「Codexを選択します」）が曖昧で、2026年2月時点のChatGPTにおけるCodex機能の正確な位置付け・アクセス方法が不明瞭**。Codex CLIについても言及なし |
| 料金情報の時点明記 | 5 | 5 | L67「2026年2月時点」+[OpenAI公式料金ページ](https://openai.com/pricing)リンク付き。FAQ回答にも時点表記あり |
| コードの動作保証 | 5 | 1 | Pythonコード（L111-123）に**pip installコマンド・環境変数OPENAI_API_KEY設定手順がない**。実行してもAPIキー未設定エラーになる可能性が高い。**Codexが生成する完成コード（GAS等）が一切掲載されていない**。howto記事の核心部分が欠落 |
| CLAUDE.md準拠 | 5 | 1 | **L37のH3「この記事の前提」がH2の下にない孤立H3**（CLAUDE.md「H2の下にH3で補足」に違反）。**H2が6個で上限5個を超過**（CLAUDE.md「H2は5つ以内」に違反）。**実行可能なコード完成例がない**（「コード例は実行可能な状態にする（省略しない）」に違反） |

## セクション別判定

| セクション | 判定 | 理由 |
|-----------|------|------|
| frontmatter | **IMPROVE** | description文字数が120文字下限に未達（約108文字）。relatedArticlesのai-api-overviewをai-coding-overviewに変更検討 |
| 導入部（冒頭〜前提表） | **IMPROVE** | 結論ファーストは良好。H3「この記事の前提」が孤立H3でCLAUDE.md違反。Layer遷移先としてai-coding-overviewへのリンクを追加すべき |
| H2-1: OpenAI Codexとは | **KEEP** | 定義文「OpenAI Codexとは、OpenAIが提供するコード生成・実行に特化したAIエージェントです」が明確。特徴表・料金表も充実。料金時点表記+公式URLあり |
| H2-2: Claude Codeとの比較 | **KEEP** | 比較表6項目が簡潔で有用。導入文・まとめ文も適切。claude-code-automationとreviews/ai-coding-tools-comparisonへのリンクあり |
| H2-3: Codexの使い方 | **IMPROVE** | howto記事の核心だが**ChatGPTからの利用手順が曖昧**（「Codexを選択」のUI説明不足）。**Codexが生成するGASコードの完成例がない**。Pythonコードに環境構築手順がない |
| H2-4: 業務自動化での活用パターン | **IMPROVE** | 表のみで**導入文・定義文がない**。指示例が1行で抽象的。各パターンの具体的な手順や注意点がない |
| H2-5: 動作確認・トラブルシューティング | **IMPROVE** | トラブル4パターンの表が実用的だが**冒頭に定義文がない** |
| H2-6: 応用・カスタマイズ例 | **MERGE** | H2が6個で上限超過のため、**H2-5またはH2-4と統合してH2を5個以内に収める**。内容自体は有用 |

## 改善指示一覧（優先度順）

### 指示1: H2を5個以内に統合【構造修正・最重要】
- 対象: 記事全体のH2構成
- 何を: 現在6個のH2を5個以内に統合する
- なぜ: CLAUDE.md「H2は5つ以内」に明確に違反。6個のH2は構造ルール超過
- 方向性: 「業務自動化での活用パターン」（H2-4）と「応用・カスタマイズ例」（H2-6）を統合して「業務自動化での活用と応用例」とするか、「動作確認・トラブルシューティング」（H2-5）と「応用・カスタマイズ例」（H2-6）を統合。統合後のH2構成例:
  1. OpenAI Codexとは
  2. Claude Codeとの比較
  3. Codexの使い方
  4. 業務自動化での活用パターン
  5. トラブルシューティングと応用例

### 指示2: H2-3「Codexの使い方」に生成コードの完成例を追加【最重要】
- 対象: H2-3「Codexの使い方」
- 何を: Codexが生成するGASコードの完成例を掲載する
- なぜ: howto記事で「コード例は実行可能な状態にする（省略しない）」（CLAUDE.md）に違反。プロンプト例は示されているが、Codexが返す完成コードが掲載されておらず、読者が結果を想定できない
- 方向性: L104の後に「Codexが生成するコード例:」として、```javascript のコードブロックでスプレッドシート月別集計のGASコード（function aggregateSales()等）を掲載。コードの各部にコメントを付け、読者がコピペで動かせる状態にする

### 指示3: Pythonコードに環境構築手順を追加
- 対象: H2-3「API経由での利用」（L109-123）
- 何を: pip installコマンド、環境変数設定手順を追加する
- なぜ: 現状のコードをそのまま実行するとAPIキー未設定エラーが発生する。CLAUDE.md「コード例は実行可能な状態にする」に違反
- 方向性: コードブロックの前に以下を追加:
  ```bash
  pip install openai
  export OPENAI_API_KEY="your-api-key-here"  # 環境変数にAPIキーを設定
  ```
  ※「your-api-key-here」は実際のキーに置き換える旨を注記。APIキーハードコード禁止ルール遵守

### 指示4: 孤立H3「この記事の前提」を構造修正
- 対象: 導入部 L37のH3
- 何を: H3をH2の下に配置するか、見出しを削除して表のみ残す
- なぜ: CLAUDE.md「H2の下にH3で補足（H4は使わない）」に違反。H3がどのH2にも属さない孤立状態
- 方向性: 見出しを削除し、前提表のみを導入部の一部として配置する（claude-code-automation.mdの形式に合わせる）

### 指示5: descriptionを120文字以上に拡張
- 対象: frontmatter description（L3）
- 何を: 現在約108文字のdescriptionを120-160文字に拡張する
- なぜ: CLAUDE.md「description は120-160文字」ルールの下限に未達
- 方向性: 「OpenAI Codex（コーデックス）の使い方を中小企業の業務自動化の観点で解説。Codexの特徴・料金・Claude Codeとの違いを比較し、GASスクリプトやPythonの自動生成を実際に試す手順をコード例付きで紹介します。初心者でも30分で始められます。」（約130文字）

### 指示6: Layer遷移先にai-coding-overviewを追加
- 対象: 導入部（L31）およびrelatedArticles（L24-27）
- 何を: ai-coding-overviewへのリンクを冒頭引用ブロックに追加し、relatedArticlesのai-api-overviewをai-coding-overviewに変更する
- なぜ: codex-introはコーディングツール記事であり、ai-coding-overview（AIコーディングツールpillar）が直属のLayer 1 pillar。ai-coding-overviewのrelatedArticlesにcodex-introが含まれているが、逆方向のリンクがない
- 方向性:
  - 冒頭引用ブロックに「この記事は[AIコーディングツールで業務自動化を内製する方法](/articles/ai-api/ai-coding-overview)の実践編です。」を追加
  - relatedArticlesを `["ai-api/ai-coding-overview", "ai-api/claude-code-automation", "reviews/ai-coding-tools-comparison"]` に変更

### 指示7: 専門用語の初出時説明を追加
- 対象: 本文全体
- 何を: 以下の用語に初出時の括弧説明を追加する
- なぜ: CLAUDE.md「専門用語は初出時に必ず説明を付ける」に違反
- 方向性:
  - L49「サンドボックス環境」→「サンドボックス環境（外部に影響を与えない隔離された実行環境）」
  - L93「Google Apps Script」→「Google Apps Script（GAS、Googleサービスを自動化するスクリプト言語）」（以降はGASと略記）
  - L109「API経由」→ APIの初出時に「API（Application Programming Interface、プログラムからサービスを呼び出す仕組み）」と補足（対象読者が中小企業の経営者・事務担当者のため）
  - L65「codex-mini」→「codex-mini（Codexのコンパクトモデル、API経由で利用）」

### 指示8: H2-4〜統合後のH2に定義文を追加
- 対象: 定義文がないH2セクション
- 何を: 各H2の冒頭に「〇〇とは、△△です。」形式の定義文または導入文を1文追加する
- なぜ: CLAUDE.md「『〇〇とは、△△です。』の定義文をセクション冒頭に含める」に違反
- 方向性:
  - H2「業務自動化での活用パターン」: 「Codexを業務自動化に活用する際は、よくあるパターンを知っておくと指示の精度が上がります。以下に代表的な4パターンをまとめました。」
  - H2「トラブルシューティング〜」: 「Codexを使い始める際に発生しやすいトラブルと、その解決策を整理します。」

### 指示9: 副KW「クラウド コード生成」を本文中に自然配置
- 対象: 本文（H2-1またはH2-3が適切）
- 何を: 「クラウドでのコード生成」等のフレーズを本文中に1回以上自然に配置する
- なぜ: secondary_kw「クラウド コード生成」がtitle以外の本文中に未出現
- 方向性: H2-1の冒頭付近に「Codexの最大の特徴は、クラウドでコード生成から実行までを完結できる点です。」等を追加

### 指示10: ChatGPTからの利用手順を具体化
- 対象: H2-3「ChatGPTからの利用」（L86-107）
- 何を: Codex機能へのアクセス方法を具体的に記述する
- なぜ: 「Codexを選択します」だけでは読者がUI上でどこを操作すべきかわからない
- 方向性: ChatGPTの左サイドバーまたはモデル選択からCodexにアクセスする具体的な手順を記述。スクリーンショットの代わりに「ChatGPT画面左上のモデル選択で『Codex』を選択」等の具体的なUI要素を記載

## 保持すべき良い点
- 結論ファーストの2行要約（L34-35）が簡潔で記事内容を正確に予告
- 7つの表による情報整理が秀逸（特に比較表と料金プラン表）
- Claude Codeとの比較表が読者のツール選定に有用
- 7本の内部リンクが適切な密度で配置されている
- relatedArticlesの構成（同カテ2+別カテ1）がルール準拠
- 料金表の時点表記（L67「2026年2月時点」）と公式URLリンクがCLAUDE.md準拠
- FAQ3個の質問選定が検索意図に合致し、料金回答に時点表記あり
- Pythonコード例でAPIキーをハードコードせずOpenAI()で環境変数参照（APIキーハードコード禁止ルール遵守）
- プロンプト例（L91-104）が業務自動化の文脈で実用的

## frontmatter修正指示
- title: 変更不要
- description: **120文字以上に拡張すること**（指示5参照）
- faq: 変更不要
- relatedArticles: **ai-api/ai-api-overviewをai-api/ai-coding-overviewに変更**（指示6参照）
- tags: 変更不要
- その他: 変更不要
