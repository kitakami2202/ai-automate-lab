# 記事ブリーフ: claude-api-intro（リライト）

## 基本情報

| 項目 | 内容 |
|------|------|
| slug | claude-api-intro |
| primary_kw | Claude API 入門 |
| secondary_kw | Claude API 使い方, Anthropic API |
| Layer | execution（Layer 2） |
| 記事タイプ | howto |
| クラスター | ai-api |
| 想定文字数 | 3,000〜5,000文字 |
| ターゲット読者 | 中小企業の事務担当者・エンジニア初学者で、Claude APIを業務に導入したい人 |
| difficulty | beginner |
| timeToRead | 15 |
| totalTime | PT60M |
| ピラー記事 | ai-apiクラスターにピラー記事なし → frameworks/ai-introduction-5steps へ導線 |

## 現状記事の課題

| 課題 | 詳細 | 改善方針 |
|------|------|---------|
| 文字数不足 | 約400文字（目標3,000〜5,000文字の10分の1以下） | 5セクション構成で3,000文字以上に拡充 |
| APIキーがハードコード | `api_key="your-api-key"` がコード中に記載 | 環境変数（ANTHROPIC_API_KEY）管理に変更。SDKの自動認識を活用 |
| 環境変数管理なし | .envファイル、python-dotenvの説明がない | 環境変数設定の手順をステップとして追加 |
| 表が0個 | 品質ルール違反（1つ以上必須） | 前提条件表、料金比較表、トラブルシューティング表を追加 |
| 内部リンク0本 | 本文中にリンクが一切ない | 同カテゴリ2本+別カテゴリ1本以上を本文中に自然に埋め込み |
| 定義文がH2-1のみ | 他のH2セクション冒頭に定義文がない | 各H2冒頭に「〇〇とは、△△です。」の定義文を配置 |
| description不足 | 約70文字（120-160文字の範囲外） | 120-160文字に拡充し、primary_kw・secondary_kwを含める |
| FAQが3個で回答が薄い | 回答が1-2文、具体性に欠ける | 5問に増やし、各回答を3-4文に拡充。料金は時点表記を付与 |
| 副KWが本文に未使用 | 「Claude API 使い方」「Anthropic API」が本文に登場しない | 本文中に自然に組み込み |
| 料金情報に時点表記なし | 「詳細はAnthropicの公式サイトで確認できます」のみ | 「2026年2月時点」を明記し公式料金ページへリンク |
| ストリーミングコードに業務ユースケースなし | 汎用的な「AIの未来について教えてください」 | 中小企業の業務ユースケース（マニュアル要約、問い合わせ分類）に変更 |
| schema.totalTimeが短い | PT30MだがPT60Mが適切 | PT60Mに変更 |

## 競合分析サマリ

### 上位5記事

| # | 記事 | URL | 深さ | 鮮度 | 独自性 | 弱点 |
|---|------|-----|------|------|--------|------|
| 1 | やすひらブログ「Claude APIの概要と使い方」 | yasuhira-blog.com/claude-api/ | cURL中心、コード少なめ、概要寄り | 2025年 | APIの基本概念をわかりやすく説明、料金の考え方 | Python SDK未使用、環境変数管理なし、業務ユースケースなし |
| 2 | 侍エンジニア「Claude APIとは？初心者向けの使い方や応用テクニック」 | generative-ai.sejuku.net/blog/192/ | 網羅的、プロンプト設計Tips含む | 2025年 | エラー対応（429等）、セキュリティ、プロンプト設計 | コード例が少ない、中小企業視点なし、業務自動化ユースケースなし |
| 3 | Hakky Handbook「Claude API×Python 環境構築からエラー対応」 | book.st-hakky.com/.../claude-api-usage-python | Python SDK中心、環境構築丁寧 | 2025年 | エラー対応の網羅性、非同期クライアント解説 | ストリーミング未解説、Extended Thinking等の新機能なし |
| 4 | AIworker「Claude API入門 APIの取得方法から実装まで完全ガイド」 | note.com/ai__worker/n/nbc960e49f683 | ステップ形式、スクショ付き | 2025年 | コンソール画面の図解が豊富 | 応用例が少ない、業務活用シナリオなし |
| 5 | 奥村研究室「ClaudeのAPIを使う」 | okumuralab.org/~okumura/python/claude_api.html | シンプル、Python中心 | 2025年 | 学術的な正確さ、簡潔な解説 | 初心者向けでない、環境変数管理なし、表なし |

### 必須トピック（3記事以上がカバー）

- Claude APIの定義・基本概要（Anthropic社が提供するLLM API）
- APIキーの取得手順（コンソール登録→APIキー生成）
- Python SDKのインストール（`pip install anthropic`）
- `messages.create()` の基本的な使い方（model, max_tokens, messages）
- 料金体系の概要（従量課金制、トークン単価）
- 主要モデルの種類（Haiku / Sonnet / Opus）

### 差別化チャンス（1-2記事のみカバー）

- 環境変数によるAPIキー管理（ANTHROPIC_API_KEY自動認識）: Hakkyのみ詳しい
- ストリーミングレスポンスの実装: やすひら・Hakkyが軽く触れる程度
- エラー対応・トラブルシューティング表: 侍エンジニアが429を触れるのみ
- システムプロンプトの活用: 侍エンジニアがTips程度
- 非同期クライアント（AsyncAnthropic）: Hakkyが軽く紹介

### 独自トピック候補（どの記事もカバーなし）

- **中小企業の業務自動化ユースケース**: マニュアル要約、問い合わせメール分類、議事録要約などの具体コード
- **Claude独自機能の紹介**: Extended Thinking、Tool Use、Vision（画像入力）、PDF読み取り
- **OpenAI API・Gemini APIとの比較表**: 長文処理・指示追従性でのClaudeの強み
- **コスト試算の具体例**: 「月1,000件の問い合わせ分類で月額〇〇円」のような中小企業向け試算
- **最新モデル名の整理表**: claude-sonnet-4-5-20250929 等のモデルID一覧と用途別推奨

## 差別化ポイント

| パターン | 採用 | 根拠 |
|---------|------|------|
| 業務ユースケース差別化 | **採用** | 競合は全て汎用的なコード例（「フィボナッチ数列」「挨拶」等）。中小企業の業務自動化コード（問い合わせ分類、マニュアル要約）を掲載する記事がゼロ |
| Claude独自機能差別化 | **採用** | Extended Thinking・Tool Use・Vision・PDFを紹介する日本語入門記事がない。Claudeを選ぶ理由を明確化 |
| 環境変数管理の徹底 | **採用** | APIキーをハードコードしている記事が多数。ANTHROPIC_API_KEY自動認識＋.env管理をデフォルトにする |
| 料金の具体試算 | **採用** | 「月〇〇円」の試算がある記事がゼロ。中小企業の経営者が判断できる具体数値を提示 |
| 比較表による位置づけ | **採用** | OpenAI API・Gemini APIとの違いを表で整理。同クラスター記事への内部リンク導線にもなる |

## 見出し構成案

### H2-1: この記事で作るもの（完成イメージ）

**目的**: 記事の成果物を冒頭で提示し、読者のモチベーションを確保

- Layer 1記事への導線: 「AIを業務に導入する全体像は[AI導入5ステップ](/articles/frameworks/ai-introduction-5steps)で解説しています」
- 完成イメージ: Claude APIで「問い合わせメールを自動分類するスクリプト」を作る
- 前提条件表:

| 項目 | 内容 |
|------|------|
| 必要なアカウント | Anthropicアカウント（無料） |
| 必要な知識 | Pythonの基本（変数、関数がわかればOK） |
| 所要時間 | 約60分 |
| 完成物 | 問い合わせメールを「質問」「クレーム」「見積依頼」等に自動分類するスクリプト |

- Claude APIの定義文: 「Claude APIとは、Anthropic社が提供するLLM（大規模言語モデル）をプログラムから利用するためのインターフェースです。テキスト生成・要約・分類・画像認識など幅広いタスクに対応しています。」
- 副KW「Anthropic API」をここで自然に使用

### H2-2: 準備・環境構築

**目的**: APIキー取得から環境変数設定まで、セキュアな初期設定を完了

- H3-1: Anthropicアカウント作成とAPIキー取得
  - console.anthropic.comへのアクセス手順（3ステップ）
  - 初回5ドル無料クレジットの説明
- H3-2: Python環境のセットアップ
  - `pip install anthropic python-dotenv`
  - `.env` ファイルの作成（ANTHROPIC_API_KEY=sk-ant-...）
  - `.gitignore` に `.env` を追加する注意喚起
  - SDKの自動認識の説明（環境変数をセットすれば `anthropic.Anthropic()` だけでOK）
- モデル一覧と用途別推奨の表:

| モデル | モデルID | 入力料金 | 出力料金 | 推奨用途 |
|--------|---------|---------|---------|---------|
| Haiku 4.5 | claude-haiku-4-5-20251001 | $1/100万トークン | $5/100万トークン | 大量処理・分類・チャット |
| Sonnet 4.5 | claude-sonnet-4-5-20250929 | $3/100万トークン | $15/100万トークン | 汎用・コード生成・要約（推奨） |
| Opus 4.5 | claude-opus-4-5-20251101 | $5/100万トークン | $25/100万トークン | 高精度な分析・長文処理 |

※2026年2月時点の料金。最新情報は[Anthropic公式料金ページ](https://www.anthropic.com/pricing)をご確認ください。

- 副KW「Claude API 使い方」をここで自然に使用

### H2-3: 実装手順

**目的**: コピペで動くコードを段階的に提示

- H3-1: ステップ1 - 基本的なテキスト生成
  - `messages.create()` の最小構成コード
  - 環境変数からAPIキーを自動読み込み（ハードコードしない）
  - systemプロンプトの活用（業務用途に合わせた指示）
  - コードのポイント解説

- H3-2: ステップ2 - ストリーミングレスポンス
  - `messages.stream()` を使ったリアルタイム出力
  - ユースケース: 長いマニュアルの要約をリアルタイムに表示
  - コードのポイント解説

- H3-3: ステップ3 - 業務自動化の実装例（問い合わせ分類）
  - systemプロンプトで分類ルールを定義
  - 問い合わせメール文を入力 → カテゴリ（質問/クレーム/見積依頼/その他）を出力
  - JSONで結果を返す実装（structured output的なアプローチ）
  - コードのポイント解説
  - 「他のAI APIとの違いが気になる方は[OpenAI API入門](/articles/ai-api/openai-api-intro)や[Gemini API入門](/articles/ai-api/gemini-api-intro)もご覧ください」

### H2-4: 動作確認・トラブルシューティング

**目的**: 初心者がつまずきやすいポイントを先回りで解消

- 動作確認の手順（ターミナルでの実行方法）
- よくあるエラーと解決策の表:

| エラー | 原因 | 解決策 |
|--------|------|--------|
| `AuthenticationError` | APIキーが未設定 or 無効 | 環境変数ANTHROPIC_API_KEYを確認。.envが読み込まれているか確認 |
| `RateLimitError (429)` | リクエスト頻度の超過 | `time.sleep()` でリトライ間隔を設定。Tier昇格を検討 |
| `BadRequestError (400)` | max_tokens超過 or 不正なパラメータ | モデルのコンテキスト長を確認。パラメータを見直し |
| `ModuleNotFoundError` | anthropicライブラリ未インストール | `pip install anthropic` を実行 |
| `APIConnectionError` | ネットワーク接続の問題 | インターネット接続を確認。プロキシ設定を確認 |

- コスト管理のコツ: コンソールでの使用量確認、月間予算アラートの設定

### H2-5: 応用・カスタマイズ例

**目的**: 次のステップを示し、クラスター内回遊を促進

- Claude独自の機能紹介（概要レベル + 公式ドキュメントへリンク）:
  - **Extended Thinking**: 複雑な推論タスクで精度向上（例: 契約書のリスク分析）
  - **Vision（画像入力）**: 名刺や領収書の画像からテキスト抽出
  - **PDF読み取り**: PDFのマニュアルや契約書を直接読み込んで要約
  - **Tool Use**: 外部APIやデータベースとの連携（例: 在庫データを参照して回答）
- 中小企業での活用アイデア表:

| 業務 | 実装イメージ | 推奨モデル | 月額目安 |
|------|------------|-----------|---------|
| 問い合わせ分類（月500件） | 本記事のコードを応用 | Haiku 4.5 | 約100円 |
| 議事録要約（週2回） | 録音テキストを入力→要点抽出 | Sonnet 4.5 | 約200円 |
| マニュアル検索Bot | 社内文書をcontextに含めて質問応答 | Sonnet 4.5 | 約500円 |

※2026年2月時点の概算。実際の料金はトークン量により変動します。

- まとめ + 「AIを業務に組み込む全体像は[AI導入5ステップ](/articles/frameworks/ai-introduction-5steps)で解説しています」
- 「AI開発ツールの比較は[AI開発ツール比較](/articles/reviews/ai-dev-tools-comparison)をご覧ください」

## FAQ案（5問）

| # | 質問 | 回答の方向性 |
|---|------|------------|
| 1 | Claude APIの料金はどのくらいですか？ | 従量課金制。Haiku 4.5は入力$1/出力$5（100万トークンあたり）、Sonnet 4.5は入力$3/出力$15、Opus 4.5は入力$5/出力$25。新規登録で5ドル分の無料クレジットあり。月500件の問い合わせ分類なら月額100円程度で運用可能。（2026年2月時点。最新料金は公式サイトを参照） |
| 2 | Claude APIとOpenAI API（ChatGPT API）の違いは何ですか？ | Claude APIはAnthropic社提供で、長文処理（最大100万トークン）と指示追従性に優れる。OpenAI APIはエコシステムの幅広さとFunction Callingの充実が特徴。中小企業の文書処理・要約タスクにはClaudeが向いている場合が多い。詳しくは[OpenAI API入門](/articles/ai-api/openai-api-intro)を参照 |
| 3 | Claude APIに無料枠はありますか？ | 新規アカウント登録時に5ドル分の無料クレジットが付与される（2026年2月時点）。APIキーの取得自体は無料。クレジットを使い切った後は従量課金となる。月間予算上限の設定も可能 |
| 4 | プログラミング初心者でもClaude APIを使えますか？ | Pythonの基本（変数、関数）がわかれば、本記事のコードをコピペして動かせる。anthropic公式SDKが面倒な処理を隠蔽してくれるため、10行程度のコードで動作する。まずは本記事のサンプルコードを試すのがおすすめ |
| 5 | APIキーの安全な管理方法は？ | 環境変数（ANTHROPIC_API_KEY）で管理するのが基本。.envファイル + python-dotenvを使い、.gitignoreに.envを追加してGitにコミットしない。Anthropic公式SDKは環境変数を自動認識するため、コード内にAPIキーを書く必要はない |

## 内部リンク候補

| リンク先 | 種別 | 配置場所 | アンカーテキスト例 |
|---------|------|---------|-----------------|
| frameworks/ai-introduction-5steps | 別カテゴリ（Layer 1） | H2-1冒頭 + H2-5末尾 | 「AI導入の全体像はAI導入5ステップで解説」 |
| ai-api/openai-api-intro | 同カテゴリ（Layer 2） | H2-3末尾 | 「OpenAI APIとの比較はOpenAI API入門をご覧ください」 |
| ai-api/gemini-api-intro | 同カテゴリ（Layer 2） | H2-3末尾 | 「Gemini APIも検討中の方はGemini API入門をご覧ください」 |
| reviews/ai-dev-tools-comparison | 別カテゴリ | H2-5末尾 | 「AI開発ツールの比較はAI開発ツール比較をご覧ください」 |
| gas/gas-basics | 別カテゴリ | H2-5応用例 | 「GASとの連携についてはGASでできること完全ガイドを参照」 |

## ライターへの指示

1. **業務自動化ユースケースを記事の軸にする**: 競合が全て汎用的なコード例にとどまっている。「問い合わせメールの自動分類」を一貫したユースケースとして記事全体を貫く。H2-1で完成イメージを見せ、H2-3で実装し、H2-5で応用を示す
2. **APIキーは絶対にハードコードしない**: 全コード例で環境変数（ANTHROPIC_API_KEY）を使用。`anthropic.Anthropic()` の引数なし初期化をデフォルトにする。.envファイル + .gitignoreの手順を必ず含める
3. **料金情報には必ず時点表記**: 「2026年2月時点」を明記し、公式料金ページ（https://www.anthropic.com/pricing）へリンク。月額コスト試算は中小企業の業務量（月500件程度）を基準にする
4. **Claudeの強みを差別化ポイントにする**: 長文処理（100万トークンのコンテキスト）、指示追従性の高さ、Extended Thinking・Vision・PDF対応を競合APIにない強みとして打ち出す
5. **howtoテンプレートに準拠**: scripts/templates/howto.md の構成に従い、冒頭にLayer 1記事への導線（frameworks/ai-introduction-5steps）、前提条件表、各ステップのコード全文（省略禁止）を含める
6. **表を3つ以上含める**: 前提条件表、モデル一覧・料金表、トラブルシューティング表、活用アイデア表のいずれか3つ以上
7. **副KWを本文中に自然に組み込む**: 「Claude API 使い方」をH2-2あたり、「Anthropic API」をH2-1の定義文で使用
8. **FAQは5問に拡充**: 各回答を3-4文で具体的に記述。料金FAQ・比較FAQ・無料枠FAQ・初心者FAQ・セキュリティFAQの5問
9. **relatedArticlesの修正**: 現状は同カテゴリ2本+別カテゴリ1本（reviews/ai-dev-tools-comparison）で基本OKだが、gas/gas-basics も候補として検討
10. **descriptionを120-160文字に拡充**: 例「Claude API（Anthropic API）の使い方を初心者向けに解説。APIキーの取得から環境変数の設定、問い合わせ分類の実装まで、コピペで動くPythonコード付きで60分で完成します。」（約90文字 → 拡充必要）
